<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Chinese Cooking • A-Frame</title>
    <meta name="description" content="Chinese Cooking • A-Frame" />
    <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
    <!--     rawgit from https://github.com/Utopiah/googlepoly-load-component -->
    <script src="https://rawgit.com/Utopiah/googlepoly-load-component/master/googlepoly-load-component.js"></script>
    <script>
      AFRAME.registerComponent("handle-events", {
        init: function() {
          var el = this.el; // <a-box>
          el.addEventListener("mouseenter", function() {
            el.setAttribute("scale", { x: 1.25, y: 1, z: 1 });
          });
          el.addEventListener("mouseleave", function() {
            el.setAttribute("scale", { x: 1, y: 1, z: 1 });
          });
          el.addEventListener("click", function() {
            el.setAttribute("color", "yellow");
            let tomato = document.querySelector(".tomato");
            tomato.setAttribute("visible", "true");
            let glow = document.querySelector(".glow");
            glow.setAttribute("visible", "true");
            let selection = document.querySelector(".menu-selection");
            selection.setAttribute(
              "sound",
              "src: url(https://www.fesliyanstudios.com/sp.php?i=/389.mp3)"
            );
          });
        }
      });
    </script>
  </head>
  <body>
    <!-- Cozy Kitchen model by Lachlan Sleight from https://poly.google.com/view/6bOTntCJyyK -->
    <!-- AIzaSyB0lUTqHcoNbVmAXbEEy21Q_wwhzJX7OKU -->
    <a-scene background="color: #ADF1FF">
      <a-entity cursor position="2 2 -5"></a-entity>
      <a-entity src="src:url(https://www.fesliyanstudios.com/sp.php?i=/389.mp3); on: click" position="2 2 -5"></a-entity>
        <a-assets>
          <audio id="bgm" src="file:///Users/joungway/Downloads/NOMELODY_2019-10-13_-_The_Biggest_Smile_-_David_Fesliyan.mp3" preload="auto"></audio>
        </a-assets>
        <a-entity sound="src: #bgm"></a-entity>
      <a-camera><a-cursor></a-cursor></a-camera>
      <a-assets>
        <a-asset-item id="kitchen"></a-asset-item>
      </a-assets>

      <!-- Kitchen v2 by Jared Bitner : https://poly.google.com/view/dC70BOz1Ju- -->
      <a-entity
        position="0.25 -0.75 -10"
        scale="10 10 10"
        gpoly="polyid:dC70BOz1Ju-; API_KEY:AIzaSyB0lUTqHcoNbVmAXbEEy21Q_wwhzJX7OKU;"
      ></a-entity>
      <a-entity
        class="tomato"
        visible="false"
        scale="0.01 0.01 0.01"
        position="2 0.25 -4"
        rotation="-90 0 0"
        gpoly="polyid: dmzbb8UisNv; API_KEY: AIzaSyB0lUTqHcoNbVmAXbEEy21Q_wwhzJX7OKU;"
        animation="property: object3D.position.y; to: 1.1; dir: alternate; dur: 2000; loop: true"
      ></a-entity>
      <a-sphere
        class="glow"
        visible="false"
        position="2 0.25 -4"
        radius="0.5"
        color="#FFC526"
        opacity="0.2"
        animation="property: object3D.position.y; to: 1.1; dir: alternate; dur: 2000; loop: true"
      ></a-sphere>
      <!--       <a-entity position= "1 1 1" scale="0.1 0.1 0.1" gpoly="gpoly=polyid:dKZ84zp5T6O; API_KEY: AIzaSyB0lUTqHcoNbVmAXbEEy21Q_wwhzJX7OKU;"></a-entity> -->
      <a-plane
        border="sides: 4; radius: 25"
        position="2 0.75 -5"
        opacity="0.7"
        rotation="0 0 0"
        width="3"
        height="1"
        color="red"
        handle-events
      >
        <a-text value="Soup" color="black"></a-text>
      </a-plane>
      <a-plane
        class="menu-selection"
        position="2 2 -5"
        opacity="0.7"
        rotation="0 0 0"
        width="3"
        height="1"
        color="red"
        handle-events
      >
        <a-text value="Tomato Egg" color="black"></a-text>
      </a-plane>
      <a-plane
        position="2 3.25 -5"
        opacity="0.7"
        rotation="0 0 0"
        width="3"
        height="1"
        color="red"
        handle-events
      >
        <a-text value="Noodles" color="black"></a-text>
      </a-plane>
    </a-scene>
  </body>
</html>
